<!DOCTYPE html>
<html lang="ko">
<head>
    <title>MoGL Test Suite - Vector.js</title>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="viewport"
          content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target densitydpi=high-dpi"/>
    <link rel="stylesheet" type="text/css" href="css.css"/>
</head>
<body>
<img src="../src/ohno.png"/>

<div id="stage"></div>
<div id="result"></div>
<div id="test"></div>
<script src="../src/MoGL.js"></script>
<script src="../src/BlendMode.js"></script>
<script src="../src/Filter.js"></script>
<script src="../src/Vertex.js"></script>
<script src="../src/VertexShaderFunctions.js"></script>
<script src="../src/Matrix.js"></script>
<script src="../src/Geometry.js"></script>
<script src="../src/Material.js"></script>
<script src="../src/Texture.js"></script>
<script src="../src/Mesh.js"></script>
<script src="../src/Group.js"></script>
<script src="../src/Vector.js"></script>
<script src="../src/Camera.js"></script>
<script src="../src/Scene.js"></script>
<script src="../src/World.js"></script>
<script src="../src/Shading.js"></script>
<script src="http://js.bsapi.co/test/"></script>
<script>
var vector;
bsTest('new',
    function () {
        vector = new Vector(new Float32Array([1, 2, 3]));
        return vector._rawData[0] === 1 && vector._rawData[1] === 2 && vector._rawData[2] === 3;
    }, true,
    function() {
        vector = new Vector([1, 2, 3]);
        return vector._rawData[0] === 1 && vector._rawData[1] === 2 && vector._rawData[2] === 3;
    }, true,
    function() {
        vector = new Vector(1, 2, 3);
        return vector._rawData[0] === 1 && vector._rawData[1] === 2 && vector._rawData[2] === 3;
    }, true,
    function() {
        vector = new Vector();
        return vector._rawData[0] === 0 && vector._rawData[1] === 0 && vector._rawData[2] === 0;
    }, true
);
bsTest('add, addXYZ, subtract, subtractXYZ',
    function() {
        var v = Vector(1, 2, 3);
        vector.add(v);
        return vector._rawData[0] === 1 && vector._rawData[1] === 2 && vector._rawData[2] === 3;
    }, true,
    function() {
        var v = Vector(1, 2, 3);
        vector.subtract(v);
        return vector._rawData[0] === 0 && vector._rawData[1] === 0 && vector._rawData[2] === 0;
    }, true,
    function() {
        vector.addXYZ(1, 2, 3);
        return vector._rawData[0] === 1 && vector._rawData[1] === 2 && vector._rawData[2] === 3;
    }, true,
    function() {
        vector.subtractXYZ(1, 2, 3);
        return vector._rawData[0] === 0 && vector._rawData[1] === 0 && vector._rawData[2] === 0;
    }, true
);
bsTest('scaleBy, distance, negate, normalize, dot, cross',
    function() {
        vector = Vector(1, 2, 3);
        vector.scaleBy(2);
        return vector._rawData[0] === 2 && vector._rawData[1] === 4 && vector._rawData[2] === 6;
    }, true,
    function() {
        var v = new Vector(1, 2, 3);
        var d = vector.distance(v);
        return d;
    }, 3.7416573867739413,
    function() {
        vector.negate();
        return vector._rawData[0] === -2 && vector._rawData[1] === -4 && vector._rawData[2] === -6;
    }, true,
    function() {
        vector = Vector(1, 2, 3); // vector.negate();
        vector.normalize();
        return vector._rawData[0] === 0.26726123690605164 && vector._rawData[1] === 0.5345224738121033 && vector._rawData[2] === 0.8017837405204773;
    }, true,
    function() {
        vector = Vector(1, 2, 3);
        var v = Vector(3, 2, 1);
        var d = vector.dot(v);
        return d;
    }, 10,
    function() {
        vector = Vector(1, 2, 3);
        var v = Vector(3, 2, 1);
        var r = vector.cross(v);
        return r._rawData[0] === -4 && r._rawData[1] === 8 && r._rawData[2] === -4;
    }, true
);
</script>
</body>
</html>
